CREATE TABLE CLIENTES(
	IDCLIENTE serial,
	DNI CHAR(8),
	CLAVE VARCHAR(100),
	NOMBRE VARCHAR(50),
	APELLIDOPAT  VARCHAR(50),
	APELLIDOMAT  VARCHAR(50),
	CELULAR CHAR(9),
	CONSTRAINT PK_IDCLIENTE PRIMARY KEY (IDCLIENTE)
);

CREATE TABLE PRODUCTOS(
	IDPRODUCTO serial,
	TIPOPRODUCTO CHAR(2),
	CODTARJETA CHAR(16),
	ESTADO CHAR(1),
	IDCLIENTE  int,
	SALDO_DISP decimal(10,2),
	CONSTRAINT PK_IDPRODUCTO PRIMARY KEY (IDPRODUCTO),
	CONSTRAINT FK_IdCliente foreign key (IDCLIENTE) references clientes(IDCLIENTE)
);

CREATE TABLE SERVICIOS(
	IDSERVICIO  serial,
	EMPRESA VARCHAR(50),
	TIPOEMPRESA varchar(50),
	CONSTRAINT PK_IDSERVICIO PRIMARY KEY (IDSERVICIO)
);

CREATE TABLE DEUDAS(
	IDDEUDA serial,
	IDCLIENTE INTEGER,
	IDSERVICIO INTEGER,
	MONTODEUDA DECIMAL(10,2),
	CONSTRAINT FK_IDCLIENTE FOREIGN KEY (IDCLIENTE) REFERENCES CLIENTES(IDCLIENTE),
	CONSTRAINT FK_IDSERVICIO FOREIGN KEY (IDSERVICIO) REFERENCES SERVICIOS(IDSERVICIO),
	CONSTRAINT PK_IDDEUDA PRIMARY KEY (IDDEUDA)
);

CREATE TABLE PAGOS(
	IDPAGO serial,
	IDCLIENTE INTEGER,
	IDPRODUCTO INTEGER,
	IDSERVICIO INTEGER,
	IDDEUDA INTEGER,
	FECHA TIMESTAMP,
	CONSTRAINT FK_IDCLIENTE FOREIGN KEY (IDCLIENTE) REFERENCES CLIENTES(IDCLIENTE),
	CONSTRAINT FK_IDPRODUCTO FOREIGN KEY (IDPRODUCTO) REFERENCES PRODUCTOS(IDPRODUCTO),
	CONSTRAINT FK_IDSERVICIO FOREIGN KEY (IDSERVICIO) REFERENCES SERVICIOS(IDSERVICIO),
	CONSTRAINT FK_IDDEUDA FOREIGN KEY (IDDEUDA) REFERENCES DEUDAS(IDDEUDA),
	CONSTRAINT PK_IDPAGO PRIMARY KEY (IDPAGO)
);
